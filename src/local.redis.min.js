(function(e,t,n){"use strict";e.localStorage||Object.defineProperty(e,"localStorage",function(){var n=[],r={};Object.defineProperty(r,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(r,"key",{value:function(e){return n[e]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(r,"setItem",{value:function(n,r){if(!n)return;t.cookie=e.escape(n)+"="+e.escape(r)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(r,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),Object.defineProperty(r,"removeItem",{value:function(n){if(!n)return;t.cookie=e.escape(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var i,s,o,u,a,f;for(s in r)i=n.indexOf(s),i===-1?r.setItem(s,r[s]):n.splice(i,1),delete r[s];for(n;n.length>0;n.splice(0,1))r.removeItem(n[0]);for(o,a,f=0,u=t.cookie.split(/\s*;\s*/);f<u.length;f++)o=u[f].split(/\s*=\s*/),o.length>1&&(r[a=e.unescape(o[0])]=e.unescape(o[1]),n.push(a));return r},this.configurable=!1,this.enumerable=!0}());var r={parse:e.JSON&&(e.JSON.parse||e.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()},stringify:Object.toJSON||e.JSON&&(e.JSON.stringify||e.JSON.encode)};if(!r.parse||!r.stringify)throw new Error("No JSON support found");var i=e.localStorage,s={};e.localRedis=s;var o=function(e){return typeof e=="string"},u=function(e){return typeof e=="number"},a=function(e){return o(e)?e:r.stringify(e)},f=function(e){try{e=r.parse(e)}catch(t){}finally{return e}},l="storagechange",c=function(n,r){var i,s=e.$||e.jQuery;if(t.createEventObject)return i=t.createEventObject(),n.fireEvent("on"+r,i);if(!s)return i=t.createEvent("HTMLEvents"),i.initEvent(r,!0,!0),!n.dispatchEvent(i);s(n).trigger(r)},h=function(){return c(t,l)},p="wrong number of arguments",d="non-string value",v="value is not an integer or out of range",m="not a string value",g="timestamp already passed",y="delay not convertible to a number",b="source and destination objects are the same",w="no such key",E="missing storage context",S="value is not an array",x="expected 'before' or 'after'",T=function(e){throw new Error(e)},N=function(e){var t=":",n="e";return e=a(e),n+t+e},C=function(e,t){return a({c:t,d:e})},k=function(e){var t=N(e),n=i.getItem(t);return f(n)},L=function(e){var t=k(e);return t&&t.d?t.d:null},A=function(e){var t=k(e);return t&&t.c?t.c:null},O=function(e){var t=k(e),n;return t&&t.d&&t.c&&(n=t.c+t.d-(new Date).getTime()),n},M=function(e,t,n){var r=N(e),s=C(t,n);i.setItem(r,s)},_=function(e){var t=N(e),n=k(e);i.removeItem(t)},D=function(e){var t=N(e);return!!i.getItem(t)},P=function(e){var t=O(e),n=t<0;return n},H=function(e){P(e)&&(F(e),F(N(e)))};s.setItem=function(e,t){i.setItem(e,t),h()},s.getItem=function(e){return H(e),i.getItem(e)},s.key=function(e){return i.key(e)},s.clear=function(){i.clear(),h()},s.removeItem=function(e){i.removeItem(e),h()};var B=function(e,t){e=a(e),t=a(t);try{i.setItem(e,t),h()}catch(n){throw n}},j=function(e){e=a(e),H(e);var t=i.getItem(e);return f(t)},F=function(e){e=a(e),i.removeItem(e)},I=function(e){H(e);var t=!0,n,r;if(e instanceof Array)for(n=0,r=e.length;n<r;n++)i.hasOwnProperty(e[n])||(t=!1);else t=!!i.hasOwnProperty(e);return t};s.del=function(e){var t=0,n,r;e=e instanceof Array?e:arguments;for(n=0,r=e.length;n<r;n++)I(e[n])&&(_(e[n]),F(e[n]),++t);return t},s.exists=function(e){return arguments.length>1&&T(p),I(e)?1:0},s.rename=function(e,t){var r,i;arguments.length!==2?r=p:e===t?r=b:I(e)||(r=w),r!==n&&T(r),D(t)&&_(t),B(t,j(e)),D(e)&&(i=O(e),this.pexpire(t,i),_(e)),F(e)},s.renamenx=function(e,t){var n;return arguments.length!==2?n=p:e===t?n=b:I(e)||(n=w),n&&T(n),I(t)?0:(this.rename(e,t),1)},s.getkey=function(e){arguments.length>2&&T(p);var t,n,r,s,o=[],u;u=!!arguments[1];for(t=0,n=i.length;t<n;t++){r=i.key(t),s=i.getItem(r);if(e===s){o.push(r);if(!u)break}}return o.length===1?o=o[0]:o.length||(o=null),o},s.expire=function(e,t){return arguments.length!==2&&T(p),I(e)?(t=parseFloat(t,10),t||T(y),t*=1e3,D(e)&&_(e),M(e,t,(new Date).getTime()),1):0},s.expires=function(e){return e=a(e),Number(D(e))},s.pexpire=function(e,t){return arguments.length!==2&&T(p),t=parseFloat(t,10),t||T(y),this.expire(e,t/1e3)},s.expireat=function(e,t){arguments.length!==2&&T(p);var n=(new Date).getTime()/1e3,r=t-n;return r<0&&T(g),this.expire(e,r)},s.pexpireat=function(e,t){arguments.length!==2&&T(p);var n=t-(new Date).getTime();return n<0&&T(g),this.pexpire(e,n)},s.persist=function(e){return arguments.length!==1&&T(p),!I(e)||!D(e)?0:(F(N(e)),1)},s.ttl=function(e){return arguments.length!==1&&T(p),I(e)&&D(e)?O(e)/1e3:-1},s.pttl=function(e){return arguments.length!==1&&T(p),this.ttl(e)*1e3},s.randomkey=function(){var e=Object.keys(i),t=i.length,n=Math.floor(Math.random()*t);return t?e[n]:null},s.keys=function(e){var t=new RegExp(e),n,r,s=[],o=Object.keys(i);for(n=0,r=o.length;n<r;n++)t.test(o[n])&&s.push(o[n]);return s.length?s:null},s.get=function(e){return j(e)},s.set=function(e,t){var n=D(e),r;try{B(e,t),n&&(r=L(e),this.persist(e))}catch(i){throw i}return this},s.getset=function(e,t){arguments.length!==2&&T(p);var n=j(e);return!o(n)&&n!==null&&T(d),this.set(e,t),n},s.mget=function(e){var t=[],n,r;e=e instanceof Array?e:arguments;for(n=0,r=e.length;n<r;n++)t[t.length]=j(e[n]);return t},s.mset=function(e){var t=e instanceof Array,n=e instanceof Object,r,i,s;if(n&&!t){s=Object.keys(e);for(r=0,i=s.length;r<i;r++)B(s[r],e[s[r]])}else{e=t?e:arguments;for(r=0,i=e.length;r<i;r+=2)B(e[r],e[r+1])}return this},s.setnx=function(e,t){return arguments.length!==2&&T(p),I(e)?0:(B(e,t),1)},s.msetnx=function(e){var t=e instanceof Array,n=e instanceof Object,r,i,s=[];if(n&&!t)s=Object.keys(e);else{e=t?e:arguments;for(r=0,i=e.length;r<i;r+=2)s.push(e[r])}for(r=0,i=s.length;r<i;r++)if(I(s[r]))return 0;for(r=0,i=e.length;r<i;r+=2)B(e[r],e[r+1]);return 1},s.incr=function(e){arguments.length!==1&&T(p),this.incrby(e,1)},s.incrby=function(e,t){arguments.length!==2&&T(p);var n=j(e),r=typeof n,i=typeof t,s=parseInt(n,10),a=parseInt(t,10),f=isNaN(a),l=isNaN(s),c=n===null,h=u(r),d=o(r)&&!l,m=o(r)&&l,g=!h&&m,y=l&&I(e),b=u(i),w=o(i)&&!f,E=o(i)&&f,S=!b&&E,x=!l&&n>=Number.MAX_VALUE,N=!f&&t>=Number.MAX_VALUE,C=x||N;if(g&&!c||y||f||S||C)T(v);else if((h||d)&&(b||w))n=s+a;else if(b||w)n=a;B(e,n)},s.mincr=function(e){var t,n;e=e instanceof Array?e:arguments;for(t=0,n=e.length;t<n;t++)this.incr(e[t])},s.mincrby=function(e){var t,n,r;if(e instanceof Array||o(e)){e=e instanceof Array?e:arguments,(e.length&1)!==0&&T(p);for(t=0,n=e.length;t<n;t+=2)this.incrby(e[t],e[t+1])}else if(e instanceof Object)for(r in e)this.incrby(r,e[r])},s.decr=function(e){arguments.length!==1&&T(p),this.incrby(e,-1)},s.mdecr=function(e){var t,n;e=e instanceof Array?e:arguments;for(t=0,n=e.length;t<n;t++)this.decr(e[t])},s.decrby=function(e,t){arguments.length!==2&&T(p),this.incrby(e,-t)},s.mdecrby=function(e){var t=function(e,t){return t&1?-e:e};e=e instanceof Array?e:Array.prototype.slice.call(arguments),this.mincrby(e.map(t))},s.append=function(e,t){arguments.length!==2&&T(p);var n=j(e)||"",r=o(n);return r&&(n+=t,B(e,n)),r?n.length:1},s.strlen=function(e){var t=j(e);return t?(o(t)||T(d),t.length):0},s.setex=function(e,t,n){arguments.length!==3&&T(p),this.set(e,n),this.expire(e,t)},s.psetex=function(e,t,n){arguments.length!==3&&T(p),this.set(e,n),this.pexpire(e,t)},s.lpush=function(e,t){arguments.length<2&&T(p);var n=j(e),r=[],i,s;return I(e)&&!(n instanceof Array)&&T(S),arguments.length>2?(e=arguments[0],r=Array.prototype.slice.call(arguments,1),r.reverse()):t instanceof Array?r=t.reverse():r=[t],n=n||[],n=r.concat(n),B(e,n),n.length};var q=function(e,t,n){var r=j(e),i=I(e),s=r instanceof Array;return i&&s?t?this.lpush(e,n):this.rpush(e,n):0};s.lpushx=function(e,t){return arguments.length<2&&T(p),q.call(this,e,!0,Array.prototype.splice.call(arguments,1))},s.rpush=function(e,t){arguments.length<2&&T(p);var n,r,i,s=j(e);return I(e)&&!(s instanceof Array)&&T(S),arguments.length>2?n=Array.prototype.splice.call(arguments,1):t instanceof Array?n=t:n=[t],s=s||[],s=s.concat(n),B(e,s),s.length},s.rpushx=function(e,t){return arguments.length<2&&T(p),q.call(this,e,!1,Array.prototype.splice.call(arguments,1))},s.llen=function(e){arguments.length<1&&T(p);var t=j(e);return I(e)?(t instanceof Array||T(S),t.length):0},s.lrange=function(e,t,r){var i=[],s=j(e),o=1,u=r+o;return s instanceof Array||T(S),t>s.length||!I(e)?i:(u>s.length&&(u=s.length),r===-1&&(u=n),i=s.slice(t,u),i)};var R=function(e,t){var n=[],r=arguments[2],i=!r,s,o,u;for(s=0,o=e.length;s<o;s++){u=e[s]===t;if(i&&u)continue;if(r&&u){r--;continue}n.push(e[s])}return n};s.lrem=function(e,t,n){arguments.length!==3&&T(p);var r=j(e),i=0;return I(e)?(r instanceof Array||T(S),i=r.length,t<0?(t=Math.abs(t),r.reverse(),r=R(r,n,t),r.reverse()):t>0?r=R(r,n,t):r=R(r,n),i-=r.length,B(e,r),i):i},s.lpop=function(e){arguments.length!==1&&T(p);if(!I(e))return null;var t=j(e),n;return t instanceof Array||T(S),n=t.shift(),B(e,t),n},s.rpop=function(e){arguments.length!==1&&T(p);if(!I(e))return null;var t=j(e),n;return t instanceof Array||T(S),n=t.pop(),B(e,t),n},s.linsert=function(e,t,n,r){arguments.length!==4&&T(p),t=t.toLowerCase(),t!=="before"&&t!=="after"&&T(x);var i=j(e),s=i.indexOf(n);return s<0?-1:(t==="before"?i.splice(s,0,r):i.splice(s+1,0,r),B(e,i),i.length)}})(window,document);